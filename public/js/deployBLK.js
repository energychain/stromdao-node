if (typeof web3 !== 'undefined') {
 // web3 = new Web3(new Web3.providers.HttpProvider("https://lc4.stromdao.de/rpc"));
}
var mapping=[];

function uiRefresh() {
	web3.net.getPeerCount(function(e,o) {
		$('.peerCount').html(o);
	});
	web3.eth.getBlock("latest",function(e,o) {		
		$('.lastBlock').html(o.number);	
	});
	
}

function loadABI() {
jQuery.get("https://raw.githubusercontent.com/energychain/StromDAO-BusinessObject/master/smart_contracts/StromDAO-BO.sol_DirectChargingFactory.abi",function(data) {console.log(data);});	
}

function deployDConf(cb) {
	
	var sbo_directconnectionContract = web3.eth.contract([{"constant":true,"inputs":[],"name":"to","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_cost_per_day","type":"uint256"}],"name":"setCostPerDay","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_meter_point","type":"address"}],"name":"setMeterPoint","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_cost_per_energy","type":"uint256"}],"name":"setCostPerEnergy","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"meter_point","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"cost_per_day","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"}],"name":"setTo","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"cost_per_energy","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"from","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"}],"name":"setFrom","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_cost","type":"uint256"}],"name":"CostPerEnergy","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"old_owner","type":"address"},{"indexed":false,"name":"new_owner","type":"address"}],"name":"Transfered","type":"event"}]);
	var sbo_directconnection = sbo_directconnectionContract.new(
	   {
		 from: web3.eth.accounts[0], 
		 data: '0x60606040525b33600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b5b610886806100576000396000f300606060405236156100b8576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806313151981146100ba5780633be554d41461010c578063407279d01461012c578063449daa9a1461016257806352b5c76114610182578063671542db146101d457806377233e90146101fa5780638da5cb5b14610230578063ada37a1a14610282578063d5ce3389146102a8578063f1437bd0146102fa578063f2fde38b14610330575bfe5b34156100c257fe5b6100ca610366565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561011457fe5b61012a600480803590602001909190505061038c565b005b341561013457fe5b610160600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506103f5565b005b341561016a57fe5b6101806004808035906020019091905050610498565b005b341561018a57fe5b61019261053a565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156101dc57fe5b6101e4610560565b6040518082815260200191505060405180910390f35b341561020257fe5b61022e600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610566565b005b341561023857fe5b610240610609565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561028a57fe5b61029261062f565b6040518082815260200191505060405180910390f35b34156102b057fe5b6102b8610635565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561030257fe5b61032e600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190505061065b565b005b341561033857fe5b610364600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506106fe565b005b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156103e95760006000fd5b806004819055505b5b50565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156104525760006000fd5b80600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b5b50565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156104f55760006000fd5b806005819055507f1ed581d5442df1158e3f679baececf55b17c8da712cf69dbea4faa32abc0857a6005546040518082815260200191505060405180910390a15b5b50565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60045481565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156105c35760006000fd5b80600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b5b50565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60055481565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156106b85760006000fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b5b50565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561075b5760006000fd5b7ffde8e7d7be5607c2e5922b2a6fdb6106620225daaea86b34e0335c1b673467cc600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1682604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019250505060405180910390a180600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b5b505600a165627a7a72305820677e7dd72cc3d858a699922b359aa50556658e494bbb248c4948693e199608280029', 
		 gas: '4700000'
	   }, function (e, contract){
		console.log(e, contract);
		if (typeof contract.address !== 'undefined') {
			 console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
			 cb(contract.address);
		} else {
				console.log("Deployment failed");
		}
	 })
 	
}
function deployDcharf(cb) {
	
	var _roles = "0x0000000000000000000000000000000000000006";
	var _reader= "0x0000000000000000000000000000000000000008";
	var sbo_directchargingfactoryContract = web3.eth.contract([{"constant":false,"inputs":[],"name":"buildCharging","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"roles","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"reader","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"type":"function"},{"inputs":[{"name":"_roles","type":"address"},{"name":"_reader","type":"address"}],"payable":false,"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_charging","type":"address"},{"indexed":false,"name":"_stromkonto","type":"address"},{"indexed":false,"name":"_account","type":"address"}],"name":"Built","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"old_owner","type":"address"},{"indexed":false,"name":"new_owner","type":"address"}],"name":"Transfered","type":"event"}]);
	var sbo_directchargingfactory = sbo_directchargingfactoryContract.new(
	   _roles,
	   _reader,
	   {
		 from: web3.eth.coinbase, 
		 data: '0x6060604052341561000c57fe5b604051604080612995833981016040528080519060200190919080519060200190919050505b5b33600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b81600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b50505b61288b8061010a6000396000f30060606040526000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063325ab9ac14610067578063392f5f64146100b95780638da5cb5b1461010b578063d4fc42c61461015d578063f2fde38b146101af575bfe5b341561006f57fe5b6100776101e5565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156100c157fe5b6100c961052f565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561011357fe5b61011b610555565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561016557fe5b61016d61057b565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156101b757fe5b6101e3600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506105a1565b005b6000600060006101f36106fd565b809050604051809103906000f080151561020957fe5b9150600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1682600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1661025a61070d565b808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019350505050604051809103906000f080151561030957fe5b90508173ffffffffffffffffffffffffffffffffffffffff1663f2fde38b826040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050600060405180830381600087803b15156103a257fe5b6102c65a03f115156103b057fe5b5050508073ffffffffffffffffffffffffffffffffffffffff1663f2fde38b336040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050600060405180830381600087803b151561044a57fe5b6102c65a03f1151561045857fe5b5050507f8b11e5012b8c8c7bdd351381ae83fe41c8bf81ffd67ba1cbfe78727314c0ddc2818333604051808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001935050505060405180910390a18092505b505090565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156105fe5760006000fd5b7ffde8e7d7be5607c2e5922b2a6fdb6106620225daaea86b34e0335c1b673467cc600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1682604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019250505060405180910390a180600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b5b50565b604051610a968061071e83390190565b6040516116ac806111b483390190560060606040525b33600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b5b610a3f806100576000396000f300606060405236156100b8576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063184f6093146100ba5780631c2ad70614610104578063700f55b21461014e5780638da5cb5b146101b5578063a9059cbb14610207578063afd25e7b1461025e578063beb2b55d146102a8578063ceae3424146102f2578063d7871faa1461033c578063dc43e6f114610386578063f2fde38b146103ac578063f4e95279146103e2575bfe5b34156100c257fe5b6100ee600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610408565b6040518082815260200191505060405180910390f35b341561010c57fe5b610138600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610420565b6040518082815260200191505060405180910390f35b341561015657fe5b6101b3600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091908035906020019091905050610438565b005b34156101bd57fe5b6101c56107b4565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561020f57fe5b610244600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919050506107da565b604051808215151515815260200191505060405180910390f35b341561026657fe5b610292600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506107e7565b6040518082815260200191505060405180910390f35b34156102b057fe5b6102dc600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506107ff565b6040518082815260200191505060405180910390f35b34156102fa57fe5b610326600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610849565b6040518082815260200191505060405180910390f35b341561034457fe5b610370600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610893565b6040518082815260200191505060405180910390f35b341561038e57fe5b6103966108ab565b6040518082815260200191505060405180910390f35b34156103b457fe5b6103e0600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506108b1565b005b34156103ea57fe5b6103f2610a0d565b6040518082815260200191505060405180910390f35b60046020528060005260406000206000915090505481565b60016020528060005260406000206000915090505481565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156104955760006000fd5b81600260008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555081600460008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555081600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555081600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555081600560008282540192505081905550806006600082825401925050819055507f1a71774309711c9c0f58692353c6a0789dbdc71f63e2e42a190ab9bc03f7925084848484600260008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054600160008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054600260008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054600160008c73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054604051808973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018781526020018681526020018581526020018481526020018381526020018281526020019850505050505050505060405180910390a15b5b50505050565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600090505b92915050565b60036020528060005260406000206000915090505481565b6000600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205490505b919050565b6000600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205490505b919050565b60026020528060005260406000206000915090505481565b60065481565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561090e5760006000fd5b7ffde8e7d7be5607c2e5922b2a6fdb6106620225daaea86b34e0335c1b673467cc600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1682604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019250505060405180910390a180600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b5b50565b600554815600a165627a7a72305820a81b57d924f49c11e39eaa180b447c6e0404d823b6fa4e46c6d2ad611064cef000296060604052341561000c57fe5b6040516060806116ac833981016040528080519060200190919080519060200190919080519060200190919050505b5b33600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b82600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b5050505b611557806101556000396000f300606060405236156100ce576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806309d3bce5146100d05780630afca69f146100f65780630f7e0c981461014857806313e22fd01461019f5780631f3afb68146101c55780633408ec321461023b578063392f5f641461028c5780633d06b900146102de578063677dea1d1461033e578063700f55b2146103745780638da5cb5b146103db578063d4fc42c61461042d578063e163e7791461047f578063f2fde38b14610491575bfe5b34156100d857fe5b6100e06104c7565b6040518082815260200191505060405180910390f35b34156100fe57fe5b6101066104cd565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561015057fe5b61019d6004808035906020019082018035906020019080806020026020016040519081016040528093929190818152602001838360200280828437820191505050505050919050506104f3565b005b34156101a757fe5b6101af61056c565b6040518082815260200191505060405180910390f35b34156101cd57fe5b6101f9600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610572565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561024357fe5b61026f600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506105a5565b604051808381526020018281526020019250505060405180910390f35b341561029457fe5b61029c6105c9565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156102e657fe5b6102fc60048080359060200190919050506105ef565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561034657fe5b610372600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190505061062f565b005b341561037c57fe5b6103d9600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091908035906020019091905050610914565b005b34156103e357fe5b6103eb610a87565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561043557fe5b61043d610aad565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561048757fe5b61048f610ad3565b005b341561049957fe5b6104c5600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050611296565b005b60075481565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156105505760006000fd5b80600490805190602001906105669291906113f2565b505b5b50565b60085481565b60066020528060005260406000206000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60056020528060005260406000206000915090508060000154908060010154905082565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6004818154811015156105fe57fe5b906000526020600020900160005b915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561068c5760006000fd5b600073ffffffffffffffffffffffffffffffffffffffff16600660008373ffffffffffffffffffffffffffffffffffffffff166352b5c7616000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b151561071457fe5b6102c65a03f1151561072257fe5b5050506040518051905073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161415156107aa5760006000fd5b80600660008373ffffffffffffffffffffffffffffffffffffffff166352b5c7616000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b151561081b57fe5b6102c65a03f1151561082957fe5b5050506040518051905073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600480548060010182816108bf919061147c565b916000526020600020900160005b83909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505b5b50565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156109715760006000fd5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663700f55b2858585856040518563ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001838152602001828152602001945050505050600060405180830381600087803b1515610a6e57fe5b6102c65a03f11515610a7c57fe5b5050505b5b50505050565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600060006000610ae36114a8565b60006000600060006000600099505b6004805490508a10156112465760048a815481101515610b0e57fe5b906000526020600020900160005b9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166352b5c7616000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b1515610ba657fe5b6102c65a03f11515610bb457fe5b5050506040518051905098507f8c85f1d9a40ad3f1c8117b465c424b223e030fb4317edc9261eb4a8cfc389aac89604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a1600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166304e37e578a6000604051604001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050604060405180830381600087803b1515610ce557fe5b6102c65a03f11515610cf357fe5b50505060405180519060200180519050975097506040604051908101604052808981526020018881525095508560000151945085602001519350600560008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600001548511156111e157600560008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101548411156111e0576000600560008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000015411156111df5760009250600560008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000015485039150600560008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101548403905060048a815481101515610ead57fe5b906000526020600020900160005b9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ada37a1a6000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b1515610f4557fe5b6102c65a03f11515610f5357fe5b5050506040518051905081028301925060048a815481101515610f7257fe5b906000526020600020900160005b9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663671542db6000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b151561100a57fe5b6102c65a03f1151561101857fe5b50505060405180519050620151808381151561103057fe5b0402830192506111be60048b81548110151561104857fe5b906000526020600020900160005b9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663d5ce33896000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b15156110e057fe5b6102c65a03f115156110ee57fe5b5050506040518051905060048c81548110151561110757fe5b906000526020600020900160005b9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663131519816000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b151561119f57fe5b6102c65a03f115156111ad57fe5b505050604051805190508584610914565b80600760008282540192505081905550826008600082825401925050819055505b5b5b85600560008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008201518160000155602082015181600101559050505b89806001019a5050610af2565b7fa4b06760d9e334049c680f60b4beff0728af9bb459b8698d252972b10c4f3e55600754600854604051808381526020018281526020019250505060405180910390a15b50505050505050505050565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156112f35760006000fd5b7ffde8e7d7be5607c2e5922b2a6fdb6106620225daaea86b34e0335c1b673467cc600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1682604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019250505060405180910390a180600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b5b50565b82805482825590600052602060002090810192821561146b579160200282015b8281111561146a5782518260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555091602001919060010190611412565b5b50905061147891906114c3565b5090565b8154818355818115116114a3578183600052602060002091820191016114a29190611506565b5b505050565b60406040519081016040528060008152602001600081525090565b61150391905b808211156114ff57600081816101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055506001016114c9565b5090565b90565b61152891905b8082111561152457600081600090555060010161150c565b5090565b905600a165627a7a723058201b40428e45a5e9bdf79e776af4a1518f37e146cd983d7595e6b3c7bf72478e080029a165627a7a72305820c12ffc0ee242294acb496b9e9f27ce2f8df339e2f89c124851c41338a5aa16470029', 
		 gas: '4700000'
	   }, function (e, contract){
		if (typeof contract.address !== 'undefined') {
			 console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
			 cb(contract.address);
		}
	 })
 	
}

function deployBLK(cb) {
	var _dconf  = $('#dconf').val();
	var _dcharf = $('#dcharf').val();
	
	var sbo_directbalancinggroupContract = web3.eth.contract([{"constant":true,"inputs":[],"name":"current_balance_out","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"delta_balance","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"account","type":"address"},{"name":"meter_point","type":"address"},{"name":"_cost_per_energy","type":"uint256"},{"name":"_cost_per_day","type":"uint256"}],"name":"addFeedOut","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"feedOut","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"balancesheets","outputs":[{"name":"balanceIn","type":"address"},{"name":"balanceOut","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"charge","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"feedIn","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"account","type":"address"},{"name":"meter_point","type":"address"},{"name":"_cost_per_energy","type":"uint256"},{"name":"_cost_per_day","type":"uint256"}],"name":"addFeedIn","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"stromkontoDelta","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"stromkontoOut","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"directconnectionfactory","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"current_balance_in","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"stromkontoIn","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"directchargingfactory","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"type":"function"},{"inputs":[{"name":"_dconf","type":"address"},{"name":"_dcharf","type":"address"}],"payable":false,"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_total_cost_in","type":"uint256"}],"name":"StartCharge","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_cost_per_energy","type":"uint256"}],"name":"EnergyCost","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"old_owner","type":"address"},{"indexed":false,"name":"new_owner","type":"address"}],"name":"Transfered","type":"event"}]);
	var sbo_directbalancinggroup = sbo_directbalancinggroupContract.new(
	   _dconf,
	   _dcharf,
	   {
		 from: web3.eth.coinbase, 
		 data: '0x6060604052341561000c57fe5b604051604080620029d0833981016040528080519060200190919080519060200190919050505b5b33600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b81600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508073ffffffffffffffffffffffffffffffffffffffff1663325ab9ac6000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b151561016457fe5b6102c65a03f1151561017257fe5b50505060405180519050600b60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600b60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630afca69f6000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b151561024a57fe5b6102c65a03f1151561025857fe5b50505060405180519050600760006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b50505b61271a80620002b66000396000f300606060405236156100e4576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680632479e888146100e65780632ccd78641461013857806339197ecb1461018a5780635031cedf146101f15780635208d1761461025157806355161913146102e45780635ae55d78146102f65780635d8ba6151461035657806373c5fb8b146103bd5780638da5cb5b1461040f578063932c957114610461578063a9e2db54146104b3578063c09d7b6d14610505578063dcd4079214610557578063ed30c819146105a9578063f2fde38b146105fb575bfe5b34156100ee57fe5b6100f6610631565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561014057fe5b610148610657565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561019257fe5b6101ef600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803590602001909190803590602001909190505061067d565b005b34156101f957fe5b61020f600480803590602001909190505061083f565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561025957fe5b61026f600480803590602001909190505061087f565b604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019250505060405180910390f35b34156102ec57fe5b6102f46108f3565b005b34156102fe57fe5b6103146004808035906020019091905050612195565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561035e57fe5b6103bb600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919080359060200190919050506121d5565b005b34156103c557fe5b6103cd612397565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561041757fe5b61041f6123bd565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561046957fe5b6104716123e3565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156104bb57fe5b6104c3612409565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561050d57fe5b61051561242f565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561055f57fe5b610567612455565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156105b157fe5b6105b961247b565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561060357fe5b61062f600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506124a1565b005b600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600b60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663eeb8410786308787876000604051602001526040518663ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200183815260200182815260200195505050505050602060405180830381600087803b15156107b957fe5b6102c65a03f115156107c757fe5b505050604051805190509050600480548060010182816107e791906125fd565b916000526020600020900160005b83909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505b5050505050565b60048181548110151561084e57fe5b906000526020600020900160005b915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60088181548110151561088e57fe5b906000526020600020906002020160005b915090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905082565b60006000600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156109545760006000fd5b600073ffffffffffffffffffffffffffffffffffffffff16600960009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156109b057611aa5565b600960009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e163e7796040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050600060405180830381600087803b1515610a3557fe5b6102c65a03f11515610a4357fe5b5050507f277c65a1a93d0f65f802a71ef7df64d0a74288c40f23f07cd8298b510dd41f27600960009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166313e22fd06000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b1515610af557fe5b6102c65a03f11515610b0357fe5b505050604051805190506040518082815260200191505060405180910390a16000600960009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166313e22fd06000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b1515610bb257fe5b6102c65a03f11515610bc057fe5b505050604051805190501115610d6057600960009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166309d3bce56000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b1515610c5e57fe5b6102c65a03f11515610c6c57fe5b50505060405180519050600960009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166313e22fd06000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b1515610d0457fe5b6102c65a03f11515610d1257fe5b50505060405180519050811515610d2557fe5b0491507f5279944f082a47bcc5ca05016ef38af2b59903d8a5acb2b86163524cf4628766826040518082815260200191505060405180910390a15b600090505b6004805490508160ff161015610e3d5760048160ff16815481101515610d8757fe5b906000526020600020900160005b9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663449daa9a836040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b1515610e1e57fe5b6102c65a03f11515610e2c57fe5b5050505b8080600101915050610d65565b600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e163e7796040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050600060405180830381600087803b1515610ec257fe5b6102c65a03f11515610ed057fe5b505050600090505b6004805490508160ff16101561141b57600b60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663700f55b260048360ff16815481101515610f3857fe5b906000526020600020900160005b9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663d5ce33896000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b1515610fd057fe5b6102c65a03f11515610fde57fe5b50505060405180519050600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ceae342460048760ff1681548110151561105b57fe5b906000526020600020900160005b9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663d5ce33896000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b15156110f357fe5b6102c65a03f1151561110157fe5b505050604051805190506000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b151561118e57fe5b6102c65a03f1151561119c57fe5b50505060405180519050600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663184f609360048860ff168154811015156111f657fe5b906000526020600020900160005b9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663d5ce33896000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b151561128e57fe5b6102c65a03f1151561129c57fe5b505050604051805190506000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b151561132957fe5b6102c65a03f1151561133757fe5b505050604051805190506040518563ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001838152602001828152602001945050505050600060405180830381600087803b15156113fc57fe5b6102c65a03f1151561140a57fe5b5050505b8080600101915050610ed8565b600090505b6003805490508160ff16101561196357600b60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663700f55b2600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1660038460ff168154811015156114a357fe5b906000526020600020900160005b9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663131519816000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b151561153b57fe5b6102c65a03f1151561154957fe5b50505060405180519050600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663beb2b55d60038760ff168154811015156115a357fe5b906000526020600020900160005b9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663131519816000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b151561163b57fe5b6102c65a03f1151561164957fe5b505050604051805190506000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b15156116d657fe5b6102c65a03f115156116e457fe5b50505060405180519050600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663afd25e7b60038860ff1681548110151561173e57fe5b906000526020600020900160005b9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663131519816000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b15156117d657fe5b6102c65a03f115156117e457fe5b505050604051805190506000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b151561187157fe5b6102c65a03f1151561187f57fe5b505050604051805190506040518563ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001838152602001828152602001945050505050600060405180830381600087803b151561194457fe5b6102c65a03f1151561195257fe5b5050505b8080600101915050611420565b600880548060010182816119779190612629565b916000526020600020906002020160005b604060405190810160405280600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815250909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050505b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663325ab9ac6000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b1515611b3357fe5b6102c65a03f11515611b4157fe5b50505060405180519050600960006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600960009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630f7e0c9860036040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180806020018281038252838181548152602001915080548015611c7157602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019060010190808311611c27575b505092505050600060405180830381600087803b1515611c8d57fe5b6102c65a03f11515611c9b57fe5b505050600960009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e163e7796040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050600060405180830381600087803b1515611d2357fe5b6102c65a03f11515611d3157fe5b505050600960009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630afca69f6000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b1515611dc257fe5b6102c65a03f11515611dd057fe5b50505060405180519050600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663325ab9ac6000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b1515611ea857fe5b6102c65a03f11515611eb657fe5b50505060405180519050600a60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630f7e0c9860046040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180806020018281038252838181548152602001915080548015611fe657602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019060010190808311611f9c575b505092505050600060405180830381600087803b151561200257fe5b6102c65a03f1151561201057fe5b505050600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e163e7796040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050600060405180830381600087803b151561209857fe5b6102c65a03f115156120a657fe5b505050600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630afca69f6000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b151561213757fe5b6102c65a03f1151561214557fe5b50505060405180519050600660006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b5b5050565b6003818154811015156121a457fe5b906000526020600020900160005b915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663eeb8410730878787876000604051602001526040518663ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200183815260200182815260200195505050505050602060405180830381600087803b151561231157fe5b6102c65a03f1151561231f57fe5b5050506040518051905090506003805480600101828161233f91906125fd565b916000526020600020900160005b83909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505b5050505050565b600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600960009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156124fe5760006000fd5b7ffde8e7d7be5607c2e5922b2a6fdb6106620225daaea86b34e0335c1b673467cc600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1682604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019250505060405180910390a180600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b5b50565b81548183558181151161262457818360005260206000209182019101612623919061265b565b5b505050565b815481835581811511612656576002028160020283600052602060002091820191016126559190612680565b5b505050565b61267d91905b80821115612679576000816000905550600101612661565b5090565b90565b6126eb91905b808211156126e75760006000820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556001820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905550600201612686565b5090565b905600a165627a7a72305820c890d9246c1f21fd58d42bc4765c3c302d477e6d39ae5c99e6d4ba4c30e394df0029', 
		 gas: '4700000'
	   }, function (e, contract){
		if (typeof contract.address !== 'undefined') {
			 console.log('BLK Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
			 cb(contract.address);
		}
	 })		
}
$('#deployConnectionFactory').click(function() {
	deployDConf(function(_dconf) {
		window.localStorage.setItem("dconf",_dconf);
		$('#dconf').val(_dconf);
	});	
});
$('#deployChargingFactory').click(function() {
	deployDcharf(function(_dconf) {
		window.localStorage.setItem("dcharf",_dconf);
		$('#dcharf').val(_dconf);
	});	
});

$('#deployNewBLK').click(function() {
	deployBLK(function(o) {
				console.log("Finished with new BLK @",o);
				window.localStorage.setItem("blk",o);
				$('#newBLK').val(o);
				
	});
});
if(typeof window.localStorage.getItem("dconf") != "undefined") {
		$('#dconf').val(window.localStorage.getItem("dconf"));
}
if(typeof window.localStorage.getItem("dcharf") != "undefined") {
		$('#dcharf').val(window.localStorage.getItem("dcharf"));
}
if(typeof window.localStorage.getItem("blk") != "undefined") {
		$('#newBLK').val(window.localStorage.getItem("blk"));
}
function afterInit() {
	uiRefresh();
	setInterval(uiRefresh,5000);
}
afterInit();

